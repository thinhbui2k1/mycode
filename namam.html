<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vanilla JS: Solar calendar to Lunar calendar</title>
    <!-- bootstrap css 4.5.0 -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <h2 class="mt-5 mb-3">Chuyển Dương Lịch sang Âm Lịch</h2>
        <div class="input-group mb-2">
            <input type="text" class="form-control" placeholder="Nhập năm dương lịch">
            <div class="input-group-append">
                <button class="btn btn-primary">Chuyển</button>
            </div>
        </div>
        <p id="result1"></p>
        <p id="result2"></p>
    </div>
    <script>

        // step 1
            const ipnElement = document.querySelector('input')
            const btnElement = document.querySelector('button')
            const resultElement1 = document.querySelector('#result1')
            const resultElement2 = document.querySelector('#result2')
            const danh_sach_can = ['Canh', 'Tân', 'Nhâm', 'Quý', 'Giáp', 'Ất', 'Bính', 'Đinh', 'Mậu', 'Kỷ']
            const danh_sach_chi = ['Thân', 'Dậu', 'Tuất', 'Hợi', 'Tí', 'Sửu', 'Dần', 'Mão', 'Thìn', 'Tỵ', 'Ngọ', 'Mùi']

            // step 4
            function convertYear(solarYear) {
                if (solarYear < 0) return 'Năm Dương Lịch phải lớn hơn 0'
                if (Number.isNaN(solarYear)) return 'Năm Dương Lịch không đúng định dạng, vui lòng nhập lại'

                let can = ''
                if ((solarYear % 10) >= 0 && (solarYear % 10) <= 9) {
                    can = danh_sach_can[solarYear % 10]
                }

                let chi = ''
                if ((solarYear % 12) >= 0 && (solarYear % 12) <= 11) {
                    chi = danh_sach_chi[solarYear % 12]
                }
                return `${can} ${chi}`
            }

            // step 2
            btnElement.addEventListener('click', function () {
                // step 3
                const solarYear = Number(ipnElement.value)

                // step 5
                resultElement1.innerHTML = `Năm dương lịch: <b>${solarYear}</b>`
                resultElement2.innerHTML = `Năm âm lịch: <b>${convertYear(solarYear)}</b>`
            })


    </script>
</body>

</html>